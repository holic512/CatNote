<template>
  <div class="app-container">
    <el-container>
      <!-- å¤´éƒ¨ -->
      <el-header class="custom-header">
        <el-row class="header-row" type="flex" justify="space-between" align="middle">
          <!-- å·¦åŠéƒ¨ -->
          <el-col :span="16">
            <div class="left-part">
              <div class="brand-name">
                <span
                    v-for="(letter, index) in brandName.split('')"
                    :key="index"
                    class="brand-letter"
                    @mouseover="animateLetter($event, index)"
                    @mouseleave="resetLetter($event)"
                >{{ letter }}</span>
              </div>
            </div>
          </el-col>

          <!-- å³åŠéƒ¨ -->
          <el-col :span="5">
            <div class="right-part">
              <div class="link-container">
                <el-text class="link-text">é¦–é¡µ</el-text>
              </div>
              <div class="link-container">
                <el-text class="link-text">GitHub</el-text>
              </div>
            </div>
          </el-col>
        </el-row>
      </el-header>
    </el-container>

    <div class="text-container">
      <h1 class="large-text">
        <span class="letter remember">R</span>
        <span class="letter remember">e</span>
        <span class="letter remember">m</span>
        <span class="letter remember">e</span>
        <span class="letter remember">m</span>
        <span class="letter remember">b</span>
        <span class="letter remember">e</span>
        <span class="letter remember">r</span>
        <br />
        <span class="letter indent anything">a</span>
        <span class="letter anything">n</span>
        <span class="letter anything">y</span>
        <span class="letter anything">t</span>
        <span class="letter anything">h</span>
        <span class="letter anything">i</span>
        <span class="letter anything">n</span>
        <span class="letter anything">g</span>
      </h1>

      <div class="button-container"  v-if="showButtons">
        <el-button round plain :style="{ width: '200px', height: '50px', fontSize: '1.3rem' }">å¼€å§‹ä½¿ç”¨</el-button>
      </div>
    </div>

    <!-- Divider -->
    <hr class="divider" />

    <!-- é¡¹ç›®ç®€ä»‹ -->
    <div class="intro-section" ref="introSection">
      <div class="intro-text">
        <h1 class="main-title">åŸºäº Vue å’Œ SpringBoot çš„äº‘ç¬”è®°å¹³å°</h1>
        <h2 class="sub-title">è®©ä½ çš„ç¬”è®°ç®¡ç†æ›´åŠ è½»æ¾é«˜æ•ˆï¼</h2>
        <p class="description-text">
          SlothNote æ˜¯ä¸€ä¸ªä¸“ä¸ºé«˜æ•ˆç¬”è®°ç®¡ç†æ‰“é€ çš„äº‘ç¬”è®°å¹³å°ï¼Œæ”¯æŒ Markdown æ ¼å¼çš„ç¬”è®°å­˜å‚¨ï¼Œ
          æä¾›ä¾¿æ·çš„å›¾ç‰‡å¤„ç†ä¸ç‰ˆæœ¬æ§åˆ¶åŠŸèƒ½ã€‚æ— è®ºä½ æ˜¯å­¦ç”Ÿã€èŒåœºäººå£«è¿˜æ˜¯è‡ªç”±èŒä¸šè€…ï¼Œ
          SlothNote éƒ½èƒ½å¸®åŠ©ä½ éšæ—¶éšåœ°è®°å½•æƒ³æ³•ï¼Œä¿æŒå·¥ä½œæ¡ç†æ€§ã€‚
        </p>
      </div>
    </div>
    <!-- æ–°å¢çš„ç›´è§‚è®¾è®¡éƒ¨åˆ† -->
    <hr class="divider" />
    <div class="new-info-container">
      <img src="./assets/images/logo.svg" alt="ç›´è§‚è®¾è®¡" class="new-image" /> <!-- æ·»åŠ å›¾ç‰‡ -->
      <div class="new-info">
        <h3 class="new-title">ğŸ›  ç›´è§‚çš„è®¾è®¡</h3>
        <p class="new-details">ç®€åŒ–ç¬”è®°ç»„ç»‡ï¼Œæå‡ä¹¦å†™ä½“éªŒï¼Œè®©æ¯æ¬¡è®°å½•éƒ½å˜å¾—è½»æ¾æ„‰å¿«ã€‚</p>
      </div>
    </div>


    <!-- æ–°å¢çš„ç±»å‹å®‰å…¨éƒ¨åˆ† -->
    <hr class="divider" />
    <div class="new-info-container">
      <img src="./assets/images/logo.svg" alt="ç±»å‹å®‰å…¨" class="new-image" /> <!-- æ·»åŠ å›¾ç‰‡ -->
      <div class="new-info">
        <h3 class="new-title">ğŸ”‘ ç±»å‹å®‰å…¨</h3>
        <p class="new-details">é€šè¿‡å…ˆè¿›çš„å®‰å…¨æœºåˆ¶ï¼Œç¡®ä¿æ¯æ¡ç¬”è®°çš„æ•°æ®å‡†ç¡®æ— è¯¯ã€‚</p>
      </div>
    </div>

    <!-- æ–°å¢çš„Markdownæ”¯æŒéƒ¨åˆ† -->
    <hr class="divider" />
    <div class="new-info-container">
      <img src="./assets/images/logo.svg" alt="Markdownæ”¯æŒ" class="new-image" /> <!-- æ·»åŠ å›¾ç‰‡ -->
      <div class="new-info">
        <h3 class="new-title">âš™ï¸ Markdown æ”¯æŒ</h3>
        <p class="new-details">å®Œç¾æ”¯æŒ Markdown æ ¼å¼ï¼Œæ–¹ä¾¿å¿«æ·åœ°æ ¼å¼åŒ–æ‚¨çš„ç¬”è®°å†…å®¹ã€‚</p>
      </div>
    </div>

    <!-- æ–°å¢çš„å¯æ‰©å±•æ€§éƒ¨åˆ† -->
    <hr class="divider" />
    <div class="new-info-container">
      <img src="./assets/images/logo.svg" alt="å¯æ‰©å±•æ€§" class="new-image" /> <!-- æ·»åŠ å›¾ç‰‡ -->
      <div class="new-info">
        <h3 class="new-title">ğŸ”Œ å¯æ‰©å±•æ€§</h3>
        <p class="new-details">é€šè¿‡äº‹åŠ¡å’Œæœ¬åœ°å­˜å‚¨åŠŸèƒ½æ‰©å±•ï¼Œçµæ´»åº”å¯¹å„ç§è‡ªå®šä¹‰éœ€æ±‚ã€‚</p>
      </div>
    </div>

    <!-- æ–°å¢çš„æ¨¡å—åŒ–è®¾è®¡éƒ¨åˆ† -->
    <hr class="divider" />
    <div class="new-info-container">
      <img src="./assets/images/logo.svg" alt="æ¨¡å—åŒ–è®¾è®¡" class="new-image" /> <!-- æ·»åŠ å›¾ç‰‡ -->
      <div class="new-info">
        <h3 class="new-title">ğŸ— æ¨¡å—åŒ–è®¾è®¡</h3>
        <p class="new-details">æ”¯æŒå¤šæ¨¡å—ç®¡ç†ï¼Œæå‡ç¬”è®°ç»„ç»‡çš„æ¸…æ™°åº¦å’Œå·¥ä½œæ•ˆç‡ã€‚</p>
      </div>
    </div>

    <!-- æ–°å¢çš„ç½‘é¡µç«¯è½»é‡åŒ–éƒ¨åˆ† -->
    <hr class="divider" />
    <div class="new-info-container">
      <img src="./assets/images/logo.svg" alt="ç½‘é¡µç«¯è½»é‡åŒ–" class="new-image" /> <!-- æ·»åŠ å›¾ç‰‡ -->
      <div class="new-info">
        <h3 class="new-title">ğŸ“¦ ç½‘é¡µç«¯è½»é‡åŒ–</h3>
        <p class="new-details">åœ¨ç½‘é¡µç«¯ä»æ—§æä¾›å¼ºå¤§åŠŸèƒ½å¹¶ä¸”ä¿æŒæè‡´çš„è½»é‡åŒ–ã€‚</p>
      </div>
    </div>

    <!-- æ–°å¢çš„è·¨å¹³å°å…¼å®¹æ€§éƒ¨åˆ† -->
    <hr class="divider" />
    <div class="new-info-container">
      <img src="./assets/images/logo.svg" alt="è·¨å¹³å°å…¼å®¹æ€§" class="new-image" /> <!-- æ·»åŠ å›¾ç‰‡ -->
      <div class="new-info">
        <h3 class="new-title">ğŸŒ è·¨å¹³å°å…¼å®¹æ€§</h3>
        <p class="new-details">åœ¨ä»»ä½•æ“ä½œç³»ç»Ÿå’Œè®¾å¤‡ä¸Šè¿è¡Œï¼Œæ— éœ€ä¸‹è½½å’Œå®‰è£…ï¼Œéšæ—¶éšåœ°è®¿é—®æ‚¨çš„ç¬”è®°ã€‚</p>
      </div>
    </div>

    <!-- æ–°å¢çš„å³æ—¶æ›´æ–°éƒ¨åˆ† -->
    <hr class="divider" />
    <div class="new-info-container">
      <img src="./assets/images/logo.svg" alt="å³æ—¶æ›´æ–°" class="new-image" /> <!-- æ·»åŠ å›¾ç‰‡ -->
      <div class="new-info">
        <h3 class="new-title">ğŸ”„ å³æ—¶æ›´æ–°</h3>
        <p class="new-details">è‡ªåŠ¨è·å–æœ€æ–°ç‰ˆæœ¬ï¼Œæ— éœ€æ‰‹åŠ¨æ›´æ–°ï¼Œäº«å—æœ€ä¼˜è´¨çš„ä½“éªŒã€‚</p>
      </div>
    </div>

    <!-- æ–°å¢çš„é›†ä¸­ç®¡ç†éƒ¨åˆ† -->
    <hr class="divider" />
    <div class="new-info-container">
      <img src="./assets/images/logo.svg" alt="é›†ä¸­ç®¡ç†" class="new-image" /> <!-- æ·»åŠ å›¾ç‰‡ -->
      <div class="new-info">
        <h3 class="new-title">ğŸ“ é›†ä¸­ç®¡ç†</h3>
        <p class="new-details">æ•°æ®å’Œè®¾ç½®å­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯ï¼Œä»»ä½•è®¾å¤‡ä¸Šå‡å¯è®¿é—®ç›¸åŒçš„æ•°æ®å’Œé…ç½®ã€‚</p>
      </div>
    </div>

    <!-- Footer Text -->
    <div class="footer-text" ref="footerText">
      SlothNote â€“ ä¸ºå­¦ä¹ äººå£«æ„å»ºçš„éå¸¸å¼ºå¤§çš„ç¬”è®°å·¥å…·
    </div>
  </div>
</template>

<script setup lang="ts">
import gsap from "gsap";
import {onMounted, ref} from "vue";

const introSection = ref<HTMLElement | null>(null);
const brandName = ref("SlothNote"); // å“ç‰Œåç§°
const footerText = ref<HTMLElement | null>(null);
const showButtons = ref(false);

onMounted(() => {
  // ä½¿ç”¨ Intersection Observer ç›‘å¬å…ƒç´ æ˜¯å¦è¿›å…¥è§†å£
  const observer = new IntersectionObserver(
      ([entry]) => {
        if (entry.isIntersecting) {
          // å…ƒç´ è¿›å…¥è§†å£æ—¶è§¦å‘åŠ¨ç”»
          gsap.fromTo(
              ".intro-text",
              {
                opacity: 0,
                scale: 0.8,
                y: 50,
              },
              {
                opacity: 1,
                scale: 1,
                y: 0,
                duration: 1.5,
                ease: "power4.out",
              }
          );

          // åœæ­¢è§‚å¯Ÿï¼Œé˜²æ­¢é‡å¤è§¦å‘
          observer.disconnect();
        }
      },
      { threshold: 0.3 } // 30% å¯è§åº¦æ—¶è§¦å‘
  );

  if (introSection.value) {
    observer.observe(introSection.value);
  }
  // åŠ¨ç”»æ•ˆæœä¸º "Remember"
  gsap.from(".remember", {
    duration: 1.5,
    opacity: 0,
    scale: gsap.utils.random(0.8, 1.2),
    y: gsap.utils.random(-50, 0),
    rotation: gsap.utils.random(-10, 10),
    ease: "bounce.out",
    color: gsap.utils.random(["#ff6347", "#6a5acd", "#20b2aa", "#ffa07a"]),
    stagger: 0.1,
  });

  // åŠ¨ç”»æ•ˆæœä¸º "anything"
  gsap.from(".anything", {
    duration: 1.5,
    opacity: 0,
    scale: gsap.utils.random(1, 1.5),
    x: gsap.utils.random(-50, 50),
    ease: "elastic.out(1, 0.5)",
    color: gsap.utils.random(["#ff1493", "#7fff00", "#00ced1", "#ff4500"]),
    stagger: 0.2,
  });

  // æ–°å¢çš„ footer åŠ¨ç”»
  gsap.from(footerText.value, {
    duration: 1,
    opacity: 0,
    scale: 0,
    transformOrigin: "center", // ä»ä¸­é—´å±•å¼€
    ease: "back.out(1.7)", // é€‚å½“çš„å¼¹æ€§æ•ˆæœ
    delay: 1.5, // å»¶è¿Ÿï¼Œä½¿å…¶åœ¨å…¶ä»–åŠ¨ç”»åå‡ºç°
  });

  // å»¶è¿Ÿæ˜¾ç¤ºæŒ‰é’®
  setTimeout(() => {
    showButtons.value = true; // æ ¹æ®å…¶ä»–åŠ¨ç”»çš„æ—¶é•¿è°ƒæ•´å»¶è¿Ÿ
    gsap.fromTo('.button-container', {
      opacity: 0,
      y: 20
    }, {
      opacity: 1,
      y: 0,
      duration: 0.5,
      ease: "power2.out",
    });
  }, 1500);
});

// åŠ¨ç”»æ•ˆæœä¸ºæ¯ä¸ªå­—æ¯
const animateLetter = (event: MouseEvent, index: number) => {
  const target = event.target as HTMLElement;

  // ä¸ºæ¯ä¸ªå­—æ¯è®¾ç½®ä¸åŒçš„åŠ¨ç”»æ•ˆæœ
  gsap.to(target, {
    scale: gsap.utils.random(1.5, 2),
    rotation: gsap.utils.random(-30, 30),
    y: gsap.utils.random(-30, 30),
    duration: 0.5,
    ease: "bounce.out",
    color: gsap.utils.random(["#ff6347", "#6a5acd", "#20b2aa", "#ffa07a"]),
    backgroundColor: gsap.utils.random(["#ffeb3b", "#f44336", "#4caf50", "#2196f3"]),
    border: '3px solid #d35400',
    borderRadius: '10px',
  });
};

// æ¢å¤å­—æ¯åŸå§‹çŠ¶æ€
const resetLetter = (event: MouseEvent) => {
  const target = event.target as HTMLElement;
  gsap.to(target, {
    scale: 1,
    rotation: 0,
    y: 0,
    duration: 0.5,
    ease: "power1.out",
    color: "#4a90e2",
    backgroundColor: 'transparent',
    border: 'none',
  });
};
</script>

<style scoped>
.text-container {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-grow: 1;
  text-align: center;
  margin-top: 100px;
  position: relative; /* å…è®¸ç»å¯¹å®šä½å­å…ƒç´  */
}

.button-container {
  position: absolute; /* ç»å¯¹å®šä½ */
  right: 20px; /* å³ä¾§ç•™ç™½ */
  bottom: 40px; /* åº•éƒ¨ç•™ç™½ */
  display: flex; /* ä½¿ç”¨ Flexbox å¸ƒå±€ */
}

.button-container el-button {
  padding: 12px 24px; /* æ·»åŠ å†…è¾¹è· */
  font-size: 2rem; /* å¢åŠ å­—ä½“å¤§å° */
  border-radius: 8px; /* ä½¿æŒ‰é’®è¾¹è§’åœ†æ»‘ */
  transition: background-color 3s; /* è¿‡æ¸¡æ•ˆæœ */
}

.app-container {
  display: flex;
  flex-direction: column;
  height: 100vh;
}

.custom-header {
  background-color: rgba(255, 255, 255, 0.9); /* èƒŒæ™¯è‰² */
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); /* å¤´éƒ¨é˜´å½±æ•ˆæœ */
  position: fixed; /* å›ºå®šå¤´éƒ¨ */
  top: 0;
  left: 0;
  right: 0;
  z-index: 10; /* ç¡®ä¿åœ¨å…¶ä»–å†…å®¹ä¹‹ä¸Š */
}

.header-row {
  padding: 10px 20px;
}

.left-part {
  display: flex;
  align-items: center;
}

.brand-name {
  font-size: 1.5rem;
  color: #4a90e2;
  display: flex;
}

.brand-letter {
  transition: color 0.3s ease, border 0.3s ease;
  cursor: pointer;
  padding: 5px;
  border-radius: 3px;
}

.brand-letter:hover {
  color: #d35400;
}

.right-part {
  display: flex;
  justify-content: flex-end;
}

.link-container {
  margin-left: 20px;
}

.link-text {
  color: #333;
  cursor: pointer;
}

.text-container {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-grow: 1;
  text-align: center;
  margin-top: 60px;
}

.large-text {
  font-size: 15vw;
  font-weight: bold;
  line-height: 1.2;
  color: #333;
}

.letter {
  display: inline-block; /* ä½¿æ¯ä¸ªå­—æ¯ç‹¬ç«‹æ˜¾ç¤º */
  transition: background-color 0.3s ease; /* æ·»åŠ èƒŒæ™¯è‰²è¿‡æ¸¡æ•ˆæœ */
}

.indent {
  margin-left: 2em;
}

/* æ–°å¢æ ·å¼ */
.footer-text {
  position: absolute;
  bottom: 20px;
  left: 20px;
  color: #555;
  font-size: 1.2rem;
  background-color: rgba(255, 255, 255, 0.8);
  padding: 10px;
  border-radius: 5px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  transform-origin: center; /* ç¡®ä¿ä»ä¸­é—´å±•å¼€ */

}


/* é¡¹ç›®ç®€ä»‹éƒ¨åˆ†æ ·å¼ */
/* é¡¹ç›®ç®€ä»‹éƒ¨åˆ†æ ·å¼ */
.intro-section {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh; /* å æ»¡æ•´ä¸ªè§†å£ */
  text-align: center;
  background: linear-gradient(135deg,#ffffff,#ffffff); /* èƒŒæ™¯æ¸å˜ */
  color: #000000; /* ç™½è‰²å­—ä½“ */
  padding: 0 20px; /* ä¸¤ä¾§ç•™ç™½ */
}

.intro-text {
  max-width: 800px; /* æ§åˆ¶æ–‡å­—å®½åº¦ */
  font-size: 1.2rem;
}

.main-title {
  font-size: 3rem; /* ä¸»æ ‡é¢˜å­—ä½“å¤§å° */
  font-weight: bold;
  margin-bottom: 20px;
  text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3); /* æ·»åŠ é˜´å½± */
  line-height: 1.2;
}

.sub-title {
  font-size: 2rem; /* å‰¯æ ‡é¢˜å­—ä½“å¤§å° */
  margin-bottom: 20px;
  font-weight: 500;
  text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2); /* æ·»åŠ è½»å¾®é˜´å½± */
}

.description-text {
  font-size: 1.5rem; /* æè¿°å­—ä½“å¤§å° */
  line-height: 1.8; /* å¢åŠ è¡Œé«˜æå‡å¯è¯»æ€§ */
  background: rgba(0, 0, 0, 0.2); /* èƒŒæ™¯è‰² */
  padding: 15px;
  border-radius: 10px; /* åœ†è§’èƒŒæ™¯ */
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2); /* æ·»åŠ é˜´å½± */
}

/* New info container styles */
.new-info-container {
  display: flex;
  align-items: center;
  margin: 40px 0; /* Spacing around the new info */
}


.new-info {
  text-align: left; /* Align text to the left */
}

.new-title {
  font-size: 2rem; /* Font size for the new title */
  color: #4a90e2; /* Title color */
  margin-bottom: 10px; /* Space below the title */
}

.new-details {
  font-size: 1.2rem; /* Font size for the new details */
  color: #333; /* Text color */
}

.new-info-container {
  display: flex;
  align-items: center;
  margin: 40px 0; /* Spacing around the new info */
  padding: 0 20px; /* æ·»åŠ å·¦å³å†…è¾¹è· */
}

.new-image {
  width: 180px; /* Adjust the image size */
  height: 180px; /* Adjust the image size */
  margin-right: 20px; /* Space between the image and text */
  border-radius: 10px; /* Optional: Add rounded corners */
}

</style>
